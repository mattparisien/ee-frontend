import ContainerFluid from "../../Containers/ContainerFluid";
import Section from "../../Containers/Section";
import ProjectGrid from "./ProjectGrid";
import { useContext, useEffect, useRef } from "react";
import { DataContext } from "../../../App";
import Fade from "react-reveal/Fade";
import DrawSVGPlugin from "gsap/dist/DrawSVGPlugin";
import gsap from "gsap";

export default function ProjectPage({ transitioning, toggleTransitioning }) {
	const data = useContext(DataContext);

	return (
		<div className='o-page o-page_project'>
			<ContainerFluid classes='-bg-light'>
				<Section classes='-padding-lg'>
					<h2 className='o-h2 -split -fadeUpChars'>Projects</h2>

					<Fade bottom>
						<p className='o-h3'>
							Lorem ipsum dolor sit, amet consectetur adipisicing elit. Aut
							dolorum perferendis quod recusandae. Magnam a in, architecto quis
							commodi autem. Dolorum itaque omnis eveniet doloribus placeat
							veritatis, blanditiis, voluptatum consectetur ipsam animi
							explicabo beatae ipsum, ratione cum. Porro inventore sequi dolorem
							aut eos iusto exercitationem esse dolores dicta. Error, commodi!
						</p>
					</Fade>
					<ColorBlobs />
				</Section>
				<Section classes='-padding-lg'>
					<ProjectGrid
						variant='projects'
						items={data.posts}
						hoverEffect={"frame"}
					/>
				</Section>
			</ContainerFluid>
		</div>
	);
}

const ColorBlobs = props => {
	const ref = useRef(null);
	gsap.registerPlugin(DrawSVGPlugin);

	useEffect(() => {
		gsap.set($(ref.current).find("path"), { drawSVG: 0 });

		gsap.to($(ref.current).find("path"), {
			drawSVG: "100%",
			duration: 3,
			stagger: 0.1,
			delay: 0.5,
			ease: "expo.inOut",
		});
	}, []);

	return (
		<div className='o-colorBlobs'>
			<svg
				id='a'
				xmlns='http://www.w3.org/2000/svg'
				viewBox='0 0 2174.28 3651.08'
				{...props}
			>
				<defs>
					<style>
						{
							".b{fill:none;stroke:#fcbd07;stroke-linecap:round;stroke-linejoin:round;stroke-width:20px}"
						}
					</style>
				</defs>
				<path
					className='b'
					d='M1437.93 1143.89c27.32-55.58 34.66-114.67 36.06-176.06 1.19-51.99-21.81-95.25-39.35-140.85-64.13-166.74-199.73-250.95-362.34-285.03-116.98-24.52-241.62-27.99-351.22 42.14-50.82 32.52-99.59 68.53-147.35 105.47-120.42 93.14-184.27 222.28-223.37 364.95-11.53 42.06-12.74 87.15-16.69 131.03-5.36 59.66-8.39 119.54-13.87 179.19-.44 4.82-11.85 8.9-18.45 12.83-103.76 61.81-188.83 141.35-240.08 252.97-28.94 63.02-46.17 126.87-50.58 198.33-7.23 117.29 42.52 208.92 101.38 301.37 73.13 114.85 170.72 204.82 279.01 284.59 127.08 93.61 252.65 189.33 387.23 272.36 100.79 62.19 201.79 124.15 300.69 189.26 75.39 49.63 146.73 105.37 221.49 155.99 81.11 54.92 161.36 112.13 247.22 158.69 59.32 32.17 124.16 63.22 197.59 43.51 32.75-8.79 42.29-20.1 38.16-54.55-5.77-48.18-20.92-93.4-40.65-138.02-23.45-53.02-45.49-107.41-60.36-163.27-14.05-52.78-22.08-107.3-5.85-163.37 6.05-20.89 14.31-21.91 30.25-22.15 38.43-.59 76.96-.54 115.18-3.88 12.21-1.07 29.96-9.56 33.52-19.04 3.69-9.82-3.68-27.41-11.58-37.31-29.9-37.43-68.98-62.62-114.7-77.28-3.21-1.03-7.17-1.28-9.47-3.35-7.83-7.07-15.08-14.79-22.55-22.26 8.54-6.4 16.24-16.36 25.76-18.6 42.36-9.95 85.22-17.74 127.95-26.04 1.86-.36 4.67 3.32 6.3 2.81 19.31-6.08 50.25-7.84 55.18-20.02 9.48-23.44-16.92-35.94-35.9-47.01-51.23-29.88-102.47-59.72-153.64-89.69-6.63-3.88-14.28-7.3-18.97-12.98-13.58-16.44-34.66-32.84-36.94-51.22-5.42-43.72-7.59-89.4 23.71-127.97 32.45-40 73.24-57.18 125-58.26 80.14-1.67 160.18-8.3 249.54-13.35-13.03-30.48-18.81-60.52-35.89-81.22-90.2-109.3-136.48-237.49-172.99-371.83-23.59-86.79-54.7-171.74-86.15-256.13-20.63-55.36-26.63-112.36-31.04-169.96-4.48-58.6-5.3-117.48-10.21-176.03-7.27-86.55-18.61-172.78-24.78-259.39-6.67-93.68-27.95-183.15-57.02-272.46-48.29-148.33-130.58-266.61-262.86-353-89.59-58.51-185.83-95.83-289.19-112.38-58.27-9.33-119.42-4.55-178.98-1.02-94.26 5.57-187.04 22.05-275.25 57.28-55.27 22.07-107.23 50.58-150.59 92.54'
				/>
				<path
					className='b'
					d='M1578.8 1118.28c-125.41-32.17-253.49-27.76-380.96-24.78-90.81 2.12-181.56 10.61-272.11 18.86-59.97 5.46-119.27 16.79-176.09 38.04-7.96 2.98-15.39 7.39-23.06 11.14l-1.02 7.74c22.96 5.41 46.49 9.11 68.75 16.59 47.35 15.91 94.35 32.98 140.92 51.04 99.05 38.42 199.32 40.62 301.01 12.63 30.95-8.52 62.9-14.57 92.5-26.46 20.97-8.42 41.76-21.88 57.37-38.15 36.55-38.09 84.62-45.74 131.83-57.19 4.52-1.1 8.57-4.13 12.84-6.26M413.44 2440.51c4.27 30.95 6.69 62.29 13.14 92.77 21.52 101.57 47.04 202.36 66.07 304.37 14.79 79.27 21.96 159.95 32.91 239.95 8.19 59.81 17.85 119.43 25.27 179.33 5.66 45.72 9.95 91.67 12.83 137.65 5.15 82.12 8.79 164.33 13.06 246.5M1274.65 1771.39c-39.9-90.27-79.85-179.48-139.62-260.25-88.01-118.94-202.94-193.59-344.23-224.48-61.55-13.46-127.75-9.56-191.65-7.5-92.89 2.99-176.12 42.16-259.36 79.21-5.25 2.34-10.66 4.29-16 6.43M310.99 1380.8c1.07 89.64.84 179.33 3.65 268.91 1.91 60.9 6.93 121.78 12.65 182.47 7.35 78.02 15.92 155.94 25.61 233.7 7.07 56.74 16.79 113.16 25.32 169.72 8.54 56.56 17.18 113.11 25.4 169.71.58 4.03-1.92 8.51-2.99 12.77M1329.08 1227.13c-20.28 28.81-43.02 56.23-60.28 86.75-29.37 51.94-23.66 110.61-18.52 166.05 8.15 87.94 25.49 174.99 36.56 262.72 3.84 30.46.61 61.82.61 92.77'
				/>
			</svg>
			)
		</div>
	);
};
